<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <!-- Responsive meta tag with no zoom -->
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no" />
  <!-- Apple meta tags -->
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
  <title>My Valentine's Surprise</title>
  
  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700&family=Roboto:wght@400;500&display=swap" rel="stylesheet">
  
  <!-- Swiper CSS -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@9/swiper-bundle.min.css" />
  
  <style>
    /*---------------------------------------------------
      CSS Variables & Basic Reset
    ---------------------------------------------------*/
    :root {
      /* Vibrant Valentine’s palette */
      --slide1-start: #ff5e62;       /* Bold red-pink */
      --slide1-end:   #ff9966;       /* Warm coral */
      --slide2-start: #ff99cc;       /* Soft pink */
      --slide2-end:   #ff66aa;       /* Vibrant fuchsia */
      --slide3-start: #ff416c;       /* Deep pink/red */
      --slide3-end:   #ff4b2b;       /* Fiery red-orange */
      --heart-gradient: linear-gradient(45deg, #ff5e62, #ff9966);
      --text-color: #fff;
      --shadow-color: rgba(0, 0, 0, 0.25);
      --transition-speed: 0.3s;
    }
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    html, body {
      width: 100%;
      height: 100%;
      background: #111;
      font-family: 'Roboto', sans-serif;
      color: var(--text-color);
      overflow: hidden;
    }
    
    /*---------------------------------------------------
      Main Swiper Container (Full-Screen Slider)
    ---------------------------------------------------*/
    .swiper {
      width: 100%;
      height: 100vh;
    }
    .swiper-slide {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      padding: 20px;
      position: relative;
      text-align: center;
    }
    
    /*---------------------------------------------------
      Floating Decorative Containers (for hearts & petals)
      These containers are placed on every slide.
    ---------------------------------------------------*/
    .heart-container,
    .flower-container {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
      overflow: hidden;
    }
    
    /*---------------------------------------------------
      Slide 1 – Countdown, Floating Love Hearts & Rose Petals
    ---------------------------------------------------*/
    #slide1 {
      background: linear-gradient(135deg, var(--slide1-start), var(--slide1-end));
      overflow: hidden;
      position: relative;
    }
    #slide1 h1 {
      font-family: 'Playfair Display', serif;
      font-size: 3rem;
      margin-bottom: 20px;
      text-shadow: 1px 1px 3px rgba(0,0,0,0.3);
    }
    .countdown {
      font-size: 2rem;
      margin-bottom: 20px;
      letter-spacing: 1px;
    }
    #slide1 p {
      font-size: 1.2rem;
    }
    
    /* Classic Love Heart with Text (for the floating decorative elements) */
    .love-heart {
      position: absolute;
      width: 50px;
      height: 50px;
      background: var(--heart-gradient);
      clip-path: polygon(
        50% 0%, 61% 11%, 72% 22%, 80% 35%, 84% 50%,
        80% 65%, 72% 78%, 61% 89%, 50% 100%, 39% 89%,
        28% 78%, 20% 65%, 16% 50%, 20% 35%, 28% 22%, 39% 11%
      );
      display: flex;
      align-items: center;
      justify-content: center;
      font-family: 'Roboto', sans-serif;
      color: #fff;
      text-align: center;
      /* Initial rotation to display the heart properly */
      transform: rotate(-45deg);
      animation: loveHeartFloat 12s linear infinite;
    }
    @keyframes loveHeartFloat {
      0% { transform: translateY(100vh) rotate(-45deg); opacity: 0; }
      15% { opacity: 1; }
      100% { transform: translateY(-150vh) rotate(315deg); opacity: 0; }
    }
    
    /* Rose Petal (Flower) styling using inline SVG as background */
    .flower {
      position: absolute;
      width: 40px;
      height: 40px;
      background: url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 64 64'><path fill='%23FF3366' d='M32 4C20 4 12 14 12 26c0 9.9 6.5 18.4 16 21.5V60h8V47h8v13h8V47.5c9.5-3.1 16-11.6 16-21.5 0-12-8-22-20-22z'/></svg>") no-repeat center center;
      background-size: contain;
      animation: petalFloat 14s linear infinite;
    }
    @keyframes petalFloat {
      0% { transform: translateY(100vh) rotate(0deg); opacity: 0; }
      20% { opacity: 1; }
      100% { transform: translateY(-150vh) rotate(360deg); opacity: 0; }
    }
    
    /*---------------------------------------------------
      Slide 2 – Interactive Itinerary (Feb 14–19)
    ---------------------------------------------------*/
    #slide2 {
      background: linear-gradient(135deg, var(--slide2-start), var(--slide2-end));
      overflow-y: auto;
      padding-bottom: 40px;
      position: relative;
    }
    #slide2 h1 {
      font-family: 'Playfair Display', serif;
      font-size: 2.8rem;
      margin-bottom: 20px;
    }
    .itinerary {
      max-width: 600px;
      margin: 0 auto;
      display: flex;
      flex-direction: column;
      gap: 15px;
    }
    .itinerary details {
      background: rgba(255, 255, 255, 0.15);
      padding: 15px;
      border-radius: 12px;
      box-shadow: 0 4px 10px var(--shadow-color);
      transition: background var(--transition-speed), transform var(--transition-speed);
      cursor: pointer;
    }
    .itinerary details[open] {
      background: rgba(255, 255, 255, 0.25);
    }
    .itinerary details:hover {
      transform: scale(1.02);
    }
    .itinerary summary {
      font-size: 1.5rem;
      outline: none;
    }
    .itinerary p {
      margin-top: 10px;
      font-size: 1.2rem;
      line-height: 1.4;
    }
    
    /*---------------------------------------------------
      Slide 3 – Memories & Valentine Question
    ---------------------------------------------------*/
    #slide3 {
      background: linear-gradient(135deg, var(--slide3-start), var(--slide3-end));
      position: relative;
    }
    #slide3 h1 {
      font-family: 'Playfair Display', serif;
      font-size: 3rem;
      margin-bottom: 20px;
    }
    .slideshow-container {
      width: 80%;
      max-width: 600px;
      margin: 0 auto 30px;
      border-radius: 12px;
      overflow: hidden;
      box-shadow: 0 4px 12px var(--shadow-color);
      position: relative;
    }
    /* Nested Swiper for Memories Slider */
    .swiper-nested {
      width: 100%;
      height: 300px;
    }
    .swiper-nested .swiper-slide {
      display: flex;
      align-items: center;
      justify-content: center;
    }
    .swiper-nested img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      transition: transform 0.5s ease;
    }
    .swiper-nested img:hover {
      transform: scale(1.05);
    }
    .ask-section h2 {
      font-family: 'Playfair Display', serif;
      font-size: 2.5rem;
      margin-bottom: 20px;
    }
    .ask-section button {
      background: #ff4081;
      border: none;
      padding: 12px 24px;
      font-size: 1.5rem;
      border-radius: 12px;
      cursor: pointer;
      transition: background var(--transition-speed);
      color: var(--text-color);
    }
    .ask-section button:hover {
      background: #e73370;
    }
    
    /* Swiper Pagination Styling */
    .swiper-pagination-bullet {
      background: rgba(255, 255, 255, 0.5);
      width: 12px;
      height: 12px;
      opacity: 1;
      transition: transform var(--transition-speed);
    }
    .swiper-pagination-bullet-active {
      background: #fff;
      transform: scale(1.2);
    }
    
    /*---------------------------------------------------
      Responsive Adjustments
    ---------------------------------------------------*/
    @media (max-width: 768px) {
      #slide1 h1 { font-size: 2.5rem; }
      .countdown { font-size: 1.8rem; }
      #slide2 h1 { font-size: 2.2rem; }
      .itinerary summary { font-size: 1.3rem; }
      #slide3 h1 { font-size: 2.5rem; }
      .ask-section h2 { font-size: 2rem; }
      .ask-section button { font-size: 1.3rem; }
    }
  </style>
</head>
<body>
  <!-- Main Swiper Container -->
  <div class="swiper mySwiper">
    <div class="swiper-wrapper">
      <!-- Slide 1: Countdown, Floating Love Hearts & Rose Petals -->
      <div class="swiper-slide" id="slide1">
        <h1>Countdown to Valentine's Day</h1>
        <div class="countdown" id="countdown"></div>
        <p>Our special week is almost here (Feb 14 – 19, 2025)</p>
        <!-- Decorative Containers -->
        <div class="heart-container"></div>
        <div class="flower-container"></div>
      </div>
      <!-- Slide 2: Itinerary -->
      <div class="swiper-slide" id="slide2">
        <h1>Our Valentine's Week Itinerary</h1>
        <div class="itinerary">
          <details>
            <summary>Feb 14 – Valentine's Day</summary>
            <p>Romantic dinner at our favorite restaurant. Expect a delightful surprise!</p>
          </details>
          <details>
            <summary>Feb 15 – Day 2</summary>
            <p>Morning stroll and a picnic in the park under the soft glow of sunrise.</p>
          </details>
          <details>
            <summary>Feb 16 – Day 3</summary>
            <p>Visit an art gallery followed by a creative workshop.</p>
          </details>
          <details>
            <summary>Feb 17 – Day 4</summary>
            <p>Adventure awaits: hiking, exploring scenic trails, and capturing memories.</p>
          </details>
          <details>
            <summary>Feb 18 – Day 5</summary>
            <p>A day of relaxation: spa treatments and a cozy movie night.</p>
          </details>
          <details>
            <summary>Feb 19 – Day 6</summary>
            <p>A charming farewell brunch and a heartfelt surprise gift.</p>
          </details>
        </div>
        <!-- Decorative Containers -->
        <div class="heart-container"></div>
        <div class="flower-container"></div>
      </div>
      <!-- Slide 3: Memories & Valentine Question -->
      <div class="swiper-slide" id="slide3">
        <h1>Our Beautiful Memories</h1>
        <!-- Nested Swiper for Memories Slider -->
        <div class="swiper mySwiperNested swiper-nested">
          <div class="swiper-wrapper">
            <div class="swiper-slide">
              <img src="https://via.placeholder.com/800x450?text=Memory+1" alt="Memory 1">
            </div>
            <div class="swiper-slide">
              <img src="https://via.placeholder.com/800x450?text=Memory+2" alt="Memory 2">
            </div>
            <div class="swiper-slide">
              <img src="https://via.placeholder.com/800x450?text=Memory+3" alt="Memory 3">
            </div>
          </div>
          <div class="swiper-pagination"></div>
        </div>
        <div class="ask-section">
          <h2>Will You Be My Valentine?</h2>
          <button id="valentineBtn">Yes, I will!</button>
        </div>
        <!-- Decorative Containers -->
        <div class="heart-container"></div>
        <div class="flower-container"></div>
      </div>
    </div>
    <div class="swiper-pagination"></div>
  </div>
  
  <!-- Include Swiper JS -->
  <script src="https://cdn.jsdelivr.net/npm/swiper@9/swiper-bundle.min.js"></script>
  <!-- Include GSAP for animations -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.5/gsap.min.js"></script>
  <!-- Include Canvas Confetti -->
  <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
  
  <script>
    /***********************
     * Initialize Main Swiper
     ***********************/
    const swiper = new Swiper(".mySwiper", {
      effect: "slide",
      speed: 600,
      pagination: {
        el: ".swiper-pagination",
        clickable: true,
      },
    });
    
    /***********************
     * Initialize Nested Swiper for Memories
     ***********************/
    const nestedSwiper = new Swiper(".mySwiperNested", {
      loop: true,
      autoplay: {
        delay: 3000,
        disableOnInteraction: false,
      },
      pagination: {
        el: ".mySwiperNested .swiper-pagination",
        clickable: true,
      },
    });
    
    /***********************
     * Countdown Timer
     ***********************/
    const countdownEl = document.getElementById("countdown");
    // Target: February 14, 2025 8:30 PM PST (ISO‑8601)
    const targetDateTime = new Date("2025-02-14T20:30:00-08:00").getTime();
    function updateCountdown() {
      const now = new Date().getTime();
      const distance = targetDateTime - now;
      if (distance < 0) {
        countdownEl.textContent = "It's time!";
        return;
      }
      const days = Math.floor(distance / (1000 * 60 * 60 * 24));
      const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
      const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
      const seconds = Math.floor((distance % (1000 * 60)) / 1000);
      countdownEl.textContent = `${days}d ${hours}h ${minutes}m ${seconds}s`;
    }
    setInterval(updateCountdown, 1000);
    updateCountdown();
    
    /***********************
     * Generate Random Decorative Elements
     ***********************/
    function generateElements(selector, numElements, elementClass) {
      document.querySelectorAll(selector).forEach(container => {
        for (let i = 0; i < numElements; i++) {
          const el = document.createElement("div");
          el.classList.add(elementClass);
          const leftPos = Math.random() * 100;
          el.style.left = leftPos + "%";
          el.style.top = "100%";
          const delay = Math.random() * 5;
          const duration = elementClass === "love-heart" ? (10 + Math.random() * 8) : (12 + Math.random() * 6);
          const scale = elementClass === "love-heart" ? (0.6 + Math.random() * 0.8) : (0.7 + Math.random() * 0.6);
          el.style.animationDelay = delay + "s";
          el.style.animationDuration = duration + "s";
          // Set the initial transform. For love-heart, we need to rotate -45deg for the correct shape.
          if (elementClass === "love-heart") {
            el.style.transform = `rotate(-45deg) scale(${scale})`;
            // Randomly choose a phrase to display inside the heart
            const phrases = ["I love you", "Be mine"];
            el.innerText = phrases[Math.floor(Math.random() * phrases.length)];
            el.style.fontSize = "10px";
            el.style.fontWeight = "bold";
          }
          container.appendChild(el);
        }
      });
    }
    // Generate 30 love hearts in each container with class "heart-container"
    generateElements(".heart-container", 30, "love-heart");
    // Generate 20 rose petals in each container with class "flower-container"
    generateElements(".flower-container", 20, "flower");
    
    /***********************
     * Itinerary Card Auto-Close & Single-Open Behavior
     ***********************/
    const detailsElements = document.querySelectorAll(".itinerary details");
    detailsElements.forEach(detail => {
      detail.addEventListener("toggle", function () {
        if (this.open) {
          detailsElements.forEach(other => {
            if (other !== this && other.open) {
              other.removeAttribute("open");
            }
          });
          gsap.fromTo(this.querySelector("p"), { opacity: 0, y: 20 }, { opacity: 1, y: 0, duration: 0.5 });
        }
      });
    });
    
    /***********************
     * Valentine Button with Confetti, GSAP Bounce & Burst Effect
     ***********************/
    document.getElementById("valentineBtn").addEventListener("click", () => {
      confetti({
        particleCount: 100,
        spread: 70,
        origin: { y: 0.6 },
        shapes: ["heart"]
      });
      gsap.fromTo("#valentineBtn", { scale: 1 }, { scale: 1.2, duration: 0.2, yoyo: true, repeat: 1 });
      createBurstOfDecor();
      alert("I love you! Can't wait to share this amazing week with you!");
    });
    
    function createBurstOfDecor() {
      const burstContainer = document.createElement("div");
      burstContainer.style.position = "absolute";
      burstContainer.style.top = "50%";
      burstContainer.style.left = "50%";
      burstContainer.style.transform = "translate(-50%, -50%)";
      burstContainer.style.pointerEvents = "none";
      document.getElementById("slide3").appendChild(burstContainer);
      
      for (let i = 0; i < 30; i++) {
        const isHeart = Math.random() < 0.5;
        const elem = document.createElement("div");
        elem.classList.add(isHeart ? "love-heart" : "flower");
        elem.style.position = "absolute";
        elem.style.width = "30px";
        elem.style.height = "30px";
        elem.style.left = (Math.random() * 100) + "%";
        elem.style.top = (Math.random() * 100) + "%";
        elem.style.opacity = "0";
        burstContainer.appendChild(elem);
        gsap.to(elem, {
          duration: 1 + Math.random(),
          opacity: 0,
          x: (Math.random() - 0.5) * 200,
          y: (Math.random() - 0.5) * 200,
          rotation: Math.random() * 360,
          onComplete: () => elem.remove()
        });
      }
    }
  </script>
</body>
</html>
