<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <!-- Responsive meta tag with no zoom -->
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no" />
  <!-- Apple meta tags -->
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
  <title>My Valentine's Surprise</title>
  
  <!-- Google Fonts for typography -->
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700&family=Roboto:wght@400;500&display=swap" rel="stylesheet">
  
  <!-- Swiper CSS for sliders -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@9/swiper-bundle.min.css" />
  
  <style>
    :root {
      /* Vibrant Valentine’s palette – Love Pink & Red Theme */
      --slide1-start: #ff3366;       /* Bold red-pink */
      --slide1-end:   #ff6699;       /* Lighter red-pink */
      --slide2-start: #ff99cc;       /* Soft pink */
      --slide2-end:   #ff66aa;       /* Vibrant fuchsia */
      --slide3-start: #cc0033;       /* Deep red */
      --slide3-end:   #ff3366;       /* Bold red-pink */
      --heart-color:  #ff3366;       /* Classic red-pink for hearts */
      --text-color:   #fff;
      --shadow-color: rgba(0, 0, 0, 0.3);
      --transition-speed: 0.3s;
    }
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    html, body {
      width: 100%;
      height: 100%;
      background: #111;
      font-family: 'Roboto', sans-serif;
      color: var(--text-color);
      overflow: hidden;
    }
    /* Main Swiper Container */
    .swiper {
      width: 100%;
      height: 100vh;
    }
    .swiper-slide {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      padding: 20px;
      position: relative;
      text-align: center;
    }
    /* Decorative Containers (for floating elements) */
    .heart-container,
    .flower-container {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
      overflow: hidden;
    }
    
    /* --- Slide 1 – Countdown & Decorative Elements --- */
    #slide1 {
      background: linear-gradient(135deg, var(--slide1-start), var(--slide1-end));
      overflow: hidden;
      position: relative;
    }
    #slide1 h1 {
      font-family: 'Playfair Display', serif;
      font-size: 3rem;
      margin-bottom: 20px;
      text-shadow: 1px 1px 3px rgba(0,0,0,0.3);
    }
    .countdown {
      font-size: 2rem;
      margin-bottom: 20px;
      letter-spacing: 1px;
    }
    #slide1 p {
      font-size: 1.2rem;
    }
    /* Optional GIF Container on Slide 1 */
    .gif-container {
      position: relative;
      margin-bottom: 20px;
    }
    .gif-container img {
      width: 200px;
      border-radius: 8px;
      box-shadow: 0 4px 12px var(--shadow-color);
    }
    
    /* --- Classic Heart Shape with Randomized Starting Rotation & Spinning Animation --- */
    .love-heart {
      position: absolute;
      width: 50px;
      height: 50px;
      background: var(--heart-color);
      display: flex;
      align-items: center;
      justify-content: center;
      /* Each heart uses the 'spin' animation. Its starting rotation is randomized via --start */
      animation: spin 12s linear infinite;
    }
    /* Two circles to form the top lobes */
    .love-heart::before,
    .love-heart::after {
      content: "";
      position: absolute;
      width: 50px;
      height: 50px;
      background: var(--heart-color);
      border-radius: 50%;
    }
    .love-heart::before {
      top: -25px;
      left: 0;
    }
    .love-heart::after {
      left: 25px;
      top: 0;
    }
    /* Wrap the heart's inner text in a container that counter-rotates so the text stays horizontal */
    .love-heart .heart-content {
      display: block;
      animation: counterSpin 12s linear infinite;
    }
    /* Keyframes for the spinning hearts.
       Each heart rotates from its random start (var(--start)) through +360deg over 12 seconds. */
    @keyframes spin {
      0% {
        transform: translateX(-50%) translateY(100vh) rotate(calc(var(--start) + 0deg)) scale(var(--scale));
        opacity: 0;
      }
      15% {
        transform: translateX(-50%) translateY(80vh) rotate(calc(var(--start) + 180deg)) scale(var(--scale));
        opacity: 1;
      }
      100% {
        transform: translateX(-50%) translateY(-150vh) rotate(calc(var(--start) + 360deg)) scale(var(--scale));
        opacity: 0;
      }
    }
    /* Keyframes for the counter-rotation of the inner text.
       This cancels the parent's rotation so that the text remains horizontal. */
    @keyframes counterSpin {
      0% {
        transform: rotate(calc(-1 * (var(--start) + 0deg)));
      }
      15% {
        transform: rotate(calc(-1 * (var(--start) + 180deg)));
      }
      100% {
        transform: rotate(calc(-1 * (var(--start) + 360deg)));
      }
    }
    
    /* --- Rose Petal Shape using Clip-Path --- */
    .flower {
      position: absolute;
      width: 20px;
      height: 30px;
      background: #ff66aa;
      clip-path: polygon(50% 0%, 70% 20%, 60% 100%, 40% 100%, 30% 20%);
      opacity: 0.8;
      animation: petalFloat 14s linear infinite;
    }
    @keyframes petalFloat {
      0% {
        transform: translateX(-50%) translateY(100vh) rotate(0deg) scale(var(--scale));
        opacity: 0;
      }
      20% {
        transform: translateX(-50%) translateY(80vh) rotate(0deg) scale(var(--scale));
        opacity: 1;
      }
      100% {
        transform: translateX(-50%) translateY(-150vh) rotate(360deg) scale(var(--scale));
        opacity: 0;
      }
    }
    
    /* --- Slide 2 – Interactive Itinerary --- */
    #slide2 {
      background: linear-gradient(135deg, var(--slide2-start), var(--slide2-end));
      overflow-y: auto;
      padding-bottom: 40px;
      position: relative;
    }
    #slide2 h1 {
      font-family: 'Playfair Display', serif;
      font-size: 2.8rem;
      margin-bottom: 20px;
    }
    .rose-image {
      margin: 0 auto 20px;
      width: 96px;
    }
    .rose-image img {
      width: 100%;
      display: block;
    }
    .itinerary {
      max-width: 600px;
      margin: 0 auto;
      display: flex;
      flex-direction: column;
      gap: 15px;
    }
    .itinerary details {
      background: rgba(255, 255, 255, 0.15);
      padding: 15px;
      border-radius: 12px;
      box-shadow: 0 4px 10px var(--shadow-color);
      transition: background var(--transition-speed), transform var(--transition-speed);
      cursor: pointer;
    }
    .itinerary details[open] {
      background: rgba(255, 255, 255, 0.25);
    }
    .itinerary details:hover {
      transform: scale(1.02);
    }
    .itinerary summary {
      font-size: 1.5rem;
      outline: none;
    }
    .itinerary p {
      margin-top: 10px;
      font-size: 1.2rem;
      line-height: 1.4;
    }
    
    /* --- Slide 3 – Memories & Valentine Question --- */
    #slide3 {
      background: linear-gradient(135deg, var(--slide3-start), var(--slide3-end));
      position: relative;
    }
    #slide3 h1 {
      font-family: 'Playfair Display', serif;
      font-size: 3rem;
      margin-bottom: 20px;
    }
    .slideshow-container {
      width: 80%;
      max-width: 600px;
      margin: 0 auto 30px;
      border-radius: 12px;
      overflow: hidden;
      box-shadow: 0 4px 12px var(--shadow-color);
      position: relative;
    }
    .swiper-nested {
      width: 100%;
      height: 300px;
    }
    .swiper-nested .swiper-slide {
      display: flex;
      align-items: center;
      justify-content: center;
    }
    .swiper-nested img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      transition: transform 0.5s ease;
    }
    .swiper-nested img:hover {
      transform: scale(1.05);
    }
    .ask-section h2 {
      font-family: 'Playfair Display', serif;
      font-size: 2.5rem;
      margin-bottom: 20px;
    }
    .ask-section button {
      background: #ff4081;
      border: none;
      padding: 12px 24px;
      font-size: 1.5rem;
      border-radius: 12px;
      cursor: pointer;
      transition: background var(--transition-speed);
      color: var(--text-color);
    }
    .ask-section button:hover {
      background: #e73370;
    }
    
    /* Swiper Pagination Styling */
    .swiper-pagination-bullet {
      background: rgba(255, 255, 255, 0.5);
      width: 12px;
      height: 12px;
      opacity: 1;
      transition: transform var(--transition-speed);
    }
    .swiper-pagination-bullet-active {
      background: #fff;
      transform: scale(1.2);
    }
    
    /* Responsive Adjustments */
    @media (max-width: 768px) {
      #slide1 h1 { font-size: 2.5rem; }
      .countdown { font-size: 1.8rem; }
      #slide2 h1 { font-size: 2.2rem; }
      .itinerary summary { font-size: 1.3rem; }
      #slide3 h1 { font-size: 2.5rem; }
      .ask-section h2 { font-size: 2rem; }
      .ask-section button { font-size: 1.3rem; }
    }
  </style>
</head>
<body>
  <!-- Main Swiper Container -->
  <div class="swiper mySwiper">
    <div class="swiper-wrapper">
      <!-- Slide 1: Countdown, Floating Hearts, Rose Petals & GIF -->
      <div class="swiper-slide" id="slide1">
        <h1>Countdown to Valentine's Day</h1>
        <div class="gif-container">
          <img src="https://media.giphy.com/media/3o7TKtnuHOHHUjR38Y/giphy.gif" alt="Valentine's GIF" style="width:200px; border-radius:8px; box-shadow: 0 4px 12px var(--shadow-color);">
        </div>
        <div class="countdown" id="countdown"></div>
        <p>Our special week is almost here (Feb 14 – 19, 2025)</p>
        <!-- Decorative Containers -->
        <div class="heart-container"></div>
        <div class="flower-container"></div>
      </div>
      <!-- Slide 2: Interactive Itinerary -->
      <div class="swiper-slide" id="slide2">
        <h1>Our Valentine's Week Itinerary</h1>
        <div class="rose-image">
          <img src="https://img.icons8.com/color/96/000000/rose.png" alt="Rose">
        </div>
        <div class="itinerary">
          <details>
            <summary>Feb 14 – Valentine's Day</summary>
            <p>Romantic dinner at our favorite restaurant. Expect a delightful surprise!</p>
          </details>
          <details>
            <summary>Feb 15 – Day 2</summary>
            <p>Morning stroll and a picnic in the park under the soft glow of sunrise.</p>
          </details>
          <details>
            <summary>Feb 16 – Day 3</summary>
            <p>Visit an art gallery followed by a creative workshop.</p>
          </details>
          <details>
            <summary>Feb 17 – Day 4</summary>
            <p>Adventure awaits: hiking, exploring scenic trails, and capturing memories.</p>
          </details>
          <details>
            <summary>Feb 18 – Day 5</summary>
            <p>A day of relaxation: spa treatments and a cozy movie night.</p>
          </details>
          <details>
            <summary>Feb 19 – Day 6</summary>
            <p>A charming farewell brunch and a heartfelt surprise gift.</p>
          </details>
        </div>
        <!-- Decorative Containers -->
        <div class="heart-container"></div>
        <div class="flower-container"></div>
      </div>
      <!-- Slide 3: Memories & Valentine Question -->
      <div class="swiper-slide" id="slide3">
        <h1>Our Beautiful Memories</h1>
        <div class="swiper mySwiperNested swiper-nested">
          <div class="swiper-wrapper">
            <div class="swiper-slide">
              <img src="https://via.placeholder.com/800x450?text=Memory+1" alt="Memory 1">
            </div>
            <div class="swiper-slide">
              <img src="https://via.placeholder.com/800x450?text=Memory+2" alt="Memory 2">
            </div>
            <div class="swiper-slide">
              <img src="https://via.placeholder.com/800x450?text=Memory+3" alt="Memory 3">
            </div>
          </div>
          <div class="swiper-pagination"></div>
        </div>
        <div class="ask-section">
          <h2>Will You Be My Valentine?</h2>
          <button id="valentineBtn">Yes, I will!</button>
        </div>
        <!-- Decorative Containers -->
        <div class="heart-container"></div>
        <div class="flower-container"></div>
      </div>
    </div>
    <div class="swiper-pagination"></div>
  </div>
  
  <!-- Include Swiper JS -->
  <script src="https://cdn.jsdelivr.net/npm/swiper@9/swiper-bundle.min.js"></script>
  <!-- Include GSAP for animations -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.5/gsap.min.js"></script>
  <!-- (Optional) Canvas Confetti if needed elsewhere -->
  <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
  
  <script>
    /***********************
     * Initialize Main Swiper
     ***********************/
    const swiper = new Swiper(".mySwiper", {
      effect: "slide",
      speed: 600,
      pagination: {
        el: ".swiper-pagination",
        clickable: true,
      },
    });
    
    /***********************
     * Initialize Nested Swiper for Memories
     ***********************/
    const nestedSwiper = new Swiper(".mySwiperNested", {
      loop: true,
      autoplay: {
        delay: 3000,
        disableOnInteraction: false,
      },
      pagination: {
        el: ".mySwiperNested .swiper-pagination",
        clickable: true,
      },
    });
    
    /***********************
     * Countdown Timer
     ***********************/
    const countdownEl = document.getElementById("countdown");
    const targetDateTime = new Date("2025-02-14T20:30:00-08:00").getTime();
    function updateCountdown() {
      const now = new Date().getTime();
      const distance = targetDateTime - now;
      if (distance < 0) {
        countdownEl.textContent = "It's time!";
        return;
      }
      const days = Math.floor(distance / (1000 * 60 * 60 * 24));
      const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
      const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
      const seconds = Math.floor((distance % (1000 * 60)) / 1000);
      countdownEl.textContent = `${days}d ${hours}h ${minutes}m ${seconds}s`;
    }
    setInterval(updateCountdown, 1000);
    updateCountdown();
    
    /***********************
     * Generate Random Decorative Elements
     ***********************/
    function generateElements(selector, numElements, elementClass) {
      document.querySelectorAll(selector).forEach(container => {
        for (let i = 0; i < numElements; i++) {
          const el = document.createElement("div");
          el.classList.add(elementClass);
          const leftPos = Math.random() * 100;
          el.style.left = leftPos + "%";
          el.style.top = "100%";
          const delay = Math.random() * 5;
          const duration = elementClass === "love-heart" ? (10 + Math.random() * 8) : (12 + Math.random() * 6);
          const scale = elementClass === "love-heart" ? (0.8 + Math.random() * 0.7) : (0.7 + Math.random() * 0.6);
          el.style.animationDelay = delay + "s";
          el.style.animationDuration = duration + "s";
          el.style.setProperty('--scale', scale);
          if (elementClass === "love-heart") {
            // Generate a random starting rotation for each heart (0deg to 360deg)
            const randomStart = Math.floor(Math.random() * 360);
            el.style.setProperty('--start', randomStart + "deg");
            // Create a nested container for counter-rotating text
            const content = document.createElement("div");
            content.classList.add("heart-content");
            const span = document.createElement("span");
            const phrases = ["I Love You", "Be Mine"];
            span.innerText = phrases[Math.floor(Math.random() * phrases.length)];
            span.style.fontSize = "10px";
            span.style.fontWeight = "bold";
            content.appendChild(span);
            el.appendChild(content);
          }
          container.appendChild(el);
        }
      });
    }
    generateElements(".heart-container", 30, "love-heart");
    generateElements(".flower-container", 20, "flower");
    
    /***********************
     * Itinerary Card Auto-Close & Single-Open Behavior
     ***********************/
    const detailsElements = document.querySelectorAll(".itinerary details");
    detailsElements.forEach(detail => {
      detail.addEventListener("toggle", function () {
        if (this.open) {
          detailsElements.forEach(other => {
            if (other !== this && other.open) {
              other.removeAttribute("open");
            }
          });
          gsap.fromTo(this.querySelector("p"), { opacity: 0, y: 20 }, { opacity: 1, y: 0, duration: 0.5 });
        }
      });
    });
    
    /***********************
     * Valentine Button with Rose Petals Effect & GSAP Bounce
     ***********************/
    document.getElementById("valentineBtn").addEventListener("click", () => {
      createRosePetals();
      gsap.fromTo("#valentineBtn", { scale: 1 }, { scale: 1.2, duration: 0.2, yoyo: true, repeat: 1 });
      alert("I love you! Can't wait to share this amazing week with you!");
    });
    
    function createRosePetals() {
      const burstContainer = document.createElement("div");
      burstContainer.style.position = "absolute";
      burstContainer.style.top = "50%";
      burstContainer.style.left = "50%";
      burstContainer.style.transform = "translate(-50%, -50%)";
      burstContainer.style.pointerEvents = "none";
      document.getElementById("slide3").appendChild(burstContainer);
      
      for (let i = 0; i < 30; i++) {
        const elem = document.createElement("div");
        elem.classList.add("flower");
        elem.style.position = "absolute";
        elem.style.width = "30px";
        elem.style.height = "30px";
        elem.style.left = (Math.random() * 100) + "%";
        elem.style.top = (Math.random() * 100) + "%";
        elem.style.opacity = "0";
        const burstScale = 0.7 + Math.random() * 0.6;
        elem.style.setProperty('--scale', burstScale);
        burstContainer.appendChild(elem);
        gsap.to(elem, {
          duration: 1 + Math.random(),
          opacity: 0,
          x: (Math.random() - 0.5) * 200,
          y: (Math.random() - 0.5) * 200,
          rotation: Math.random() * 360,
          onComplete: () => elem.remove()
        });
      }
    }
  </script>
</body>
</html>
