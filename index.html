<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <!-- Ensure proper scaling on mobile devices -->
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <!-- Apple meta tags for full-screen web app mode -->
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
  <title>My Valentine's Surprise</title>
  <!-- Google Fonts for a romantic touch -->
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700&family=Roboto:wght@400;500&display=swap" rel="stylesheet">
  <!-- Include Hammer.js for touch/pan detection -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/hammer.js/2.0.8/hammer.min.js"></script>
  <style>
    /* CSS Variables for colors */
    :root {
      --primary-color: #ff9a9e;
      --secondary-color: #fad0c4;
      --tertiary-color: #a18cd1;
      --quaternary-color: #fbc2eb;
      --quinary-color: #fbc2eb;
      --senary-color: #a6c1ee;
      --text-color: #fff;
    }
    /* Global Reset */
    * { margin: 0; padding: 0; box-sizing: border-box; }
    html, body {
      width: 100%;
      height: 100%;
      overflow: hidden;
      font-family: 'Roboto', sans-serif;
      background: #111;
      color: var(--text-color);
    }
    /* SLIDER CONTAINER (transform-based) */
    .slider {
      position: relative;
      width: 300vw;  /* 3 slides (each 100vw) */
      height: 100vh;
      transition: transform 0.3s ease;
      /* Allow vertical scrolling if needed on children */
      touch-action: pan-y;
    }
    /* Each slide takes full viewport width/height */
    .slide {
      display: inline-block;
      width: 100vw;
      height: 100vh;
      vertical-align: top;
      position: relative;
      padding: 20px;
      /* Center content */
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      overflow: hidden;
    }
    /* Slide 1: Countdown & Floating Hearts */
    #slide1 {
      background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
      text-align: center;
      overflow: hidden;
    }
    #slide1 h1 {
      font-family: 'Playfair Display', serif;
      font-size: 3rem;
      margin-bottom: 20px;
    }
    #slide1 .countdown {
      font-size: 2rem;
      font-weight: 500;
      margin-bottom: 20px;
    }
    #slide1 p { font-size: 1.2rem; }
    /* Floating Hearts with Float & Spin Effect */
    .heart-container {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
      overflow: hidden;
    }
    .heart {
      position: absolute;
      width: 30px;
      height: 30px;
      background: #ff4081;
      transform-origin: center;
      animation: floatAndSpin 6s linear infinite;
    }
    .heart::before,
    .heart::after {
      content: "";
      position: absolute;
      background: #ff4081;
      border-radius: 50%;
      width: 30px;
      height: 30px;
    }
    .heart::before { top: -15px; left: 0; }
    .heart::after  { left: 15px; top: 0; }
    @keyframes floatAndSpin {
      0%   { transform: translateY(100vh) rotate(45deg); opacity: 0; }
      30%  { opacity: 1; }
      100% { transform: translateY(-20vh) rotate(405deg); opacity: 0; }
    }
    /* Slide 2: Itinerary */
    #slide2 {
      background: linear-gradient(135deg, var(--tertiary-color), var(--quaternary-color));
      /* NOTE: Vertical scrolling in this slide may be disabled due to our pan handler */
      overflow-y: auto;
    }
    #slide2 h1 {
      font-family: 'Playfair Display', serif;
      font-size: 2.8rem;
      margin-bottom: 20px;
      text-align: center;
    }
    .itinerary {
      display: flex;
      flex-direction: column;
      gap: 15px;
      width: 100%;
      max-width: 600px;
      margin: 0 auto;
    }
    .itinerary details {
      background: rgba(255, 255, 255, 0.2);
      padding: 15px;
      border-radius: 10px;
      transition: background 0.3s, transform 0.3s;
    }
    .itinerary details:hover {
      background: rgba(255, 255, 255, 0.3);
      transform: scale(1.02);
    }
    .itinerary summary {
      font-size: 1.5rem;
      cursor: pointer;
      outline: none;
    }
    .itinerary p {
      margin-top: 10px;
      font-size: 1.2rem;
    }
    /* Slide 3: Memories & Valentine Question */
    #slide3 {
      background: linear-gradient(135deg, var(--quinary-color), var(--senary-color));
      text-align: center;
    }
    #slide3 h1 {
      font-family: 'Playfair Display', serif;
      font-size: 3rem;
      margin-bottom: 20px;
    }
    .slideshow-container {
      position: relative;
      width: 80%;
      max-width: 600px;
      margin: 0 auto 30px;
      border-radius: 10px;
      overflow: hidden;
    }
    .slideshow {
      position: relative;
      width: 100%;
      height: 0;
      padding-bottom: 56.25%;  /* 16:9 Aspect Ratio */
    }
    .slideshow img {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      object-fit: cover;
      opacity: 0;
      transition: opacity 1s ease;
    }
    .slideshow img.active { opacity: 1; }
    .slideshow-nav {
      position: absolute;
      top: 50%;
      width: 100%;
      display: flex;
      justify-content: space-between;
      transform: translateY(-50%);
      padding: 0 10px;
    }
    .slideshow-nav button {
      background: rgba(0, 0, 0, 0.5);
      border: none;
      color: var(--text-color);
      font-size: 1.5rem;
      padding: 8px 12px;
      border-radius: 50%;
      cursor: pointer;
      transition: background 0.3s;
    }
    .slideshow-nav button:hover { background: rgba(0, 0, 0, 0.8); }
    .ask-section {
      margin-top: 20px;
    }
    .ask-section h2 {
      font-family: 'Playfair Display', serif;
      font-size: 2.5rem;
      margin-bottom: 20px;
    }
    .ask-section button {
      background: #ff4081;
      border: none;
      padding: 12px 24px;
      font-size: 1.5rem;
      border-radius: 10px;
      cursor: pointer;
      transition: background 0.3s;
    }
    .ask-section button:hover { background: #e73370; }
    /* Navigation Dots */
    .nav-dots {
      position: fixed;
      bottom: 20px;
      left: 50%;
      transform: translateX(-50%);
      display: flex;
      gap: 10px;
      z-index: 100;
    }
    .nav-dots .dot {
      width: 12px;
      height: 12px;
      background: rgba(255, 255, 255, 0.5);
      border-radius: 50%;
      cursor: pointer;
      transition: background 0.3s;
    }
    .nav-dots .dot.active { background: #fff; }
    /* Responsive Adjustments */
    @media (max-width: 768px) {
      #slide1 h1 { font-size: 2.5rem; }
      #slide1 .countdown { font-size: 1.8rem; }
      #slide2 h1 { font-size: 2.2rem; }
      .itinerary summary { font-size: 1.3rem; }
      #slide3 h1 { font-size: 2.5rem; }
      .ask-section h2 { font-size: 2rem; }
      .ask-section button { font-size: 1.3rem; }
    }
  </style>
</head>
<body>
  <!-- SLIDER CONTAINER (controlled via transform) -->
  <div id="slider" class="slider">
    <!-- Slide 1: Countdown with Floating Hearts -->
    <section id="slide1" class="slide">
      <div>
        <h1>Countdown to Valentine's Day</h1>
        <div id="countdown" class="countdown"></div>
        <p>Our special week is almost here (Feb 14 – 19, 2025)</p>
      </div>
      <!-- Floating Hearts -->
      <div class="heart-container">
        <div class="heart" style="left: 10%; animation-delay: 0s;"></div>
        <div class="heart" style="left: 30%; animation-delay: 1s;"></div>
        <div class="heart" style="left: 50%; animation-delay: 2s;"></div>
        <div class="heart" style="left: 70%; animation-delay: 3s;"></div>
        <div class="heart" style="left: 90%; animation-delay: 4s;"></div>
      </div>
    </section>
    <!-- Slide 2: Itinerary -->
    <section id="slide2" class="slide">
      <div>
        <h1>Our Valentine's Week Itinerary</h1>
        <div class="itinerary">
          <details>
            <summary>Feb 14 – Valentine's Day</summary>
            <p>Romantic dinner at our favorite restaurant. Expect a delightful surprise!</p>
          </details>
          <details>
            <summary>Feb 15 – Day 2</summary>
            <p>Morning stroll and a picnic in the park under the soft glow of sunrise.</p>
          </details>
          <details>
            <summary>Feb 16 – Day 3</summary>
            <p>Visit an art gallery followed by a creative workshop.</p>
          </details>
          <details>
            <summary>Feb 17 – Day 4</summary>
            <p>Adventure awaits: hiking, exploring scenic trails, and capturing memories.</p>
          </details>
          <details>
            <summary>Feb 18 – Day 5</summary>
            <p>A day of relaxation: spa treatments and a cozy movie night.</p>
          </details>
          <details>
            <summary>Feb 19 – Day 6</summary>
            <p>A charming farewell brunch and a heartfelt surprise gift.</p>
          </details>
        </div>
      </div>
    </section>
    <!-- Slide 3: Memories & Valentine Question -->
    <section id="slide3" class="slide">
      <div>
        <h1>Our Beautiful Memories</h1>
        <div class="slideshow-container">
          <div class="slideshow" id="slideshow">
            <!-- Replace placeholder images with your own photos -->
            <img src="https://via.placeholder.com/800x450?text=Memory+1" alt="Memory 1" class="active">
            <img src="https://via.placeholder.com/800x450?text=Memory+2" alt="Memory 2">
            <img src="https://via.placeholder.com/800x450?text=Memory+3" alt="Memory 3">
          </div>
          <div class="slideshow-nav">
            <button id="prev">&lsaquo;</button>
            <button id="next">&rsaquo;</button>
          </div>
        </div>
        <div class="ask-section">
          <h2>Will You Be My Valentine?</h2>
          <button id="valentineBtn">Yes, I will!</button>
        </div>
      </div>
    </section>
  </div>
  <!-- Navigation Dots -->
  <div class="nav-dots" id="navDots">
    <div class="dot active" data-index="0"></div>
    <div class="dot" data-index="1"></div>
    <div class="dot" data-index="2"></div>
  </div>
  <script>
    /***********************
     * Countdown Timer
     ***********************/
    const countdownEl = document.getElementById("countdown");
    // Target: February 14, 2025 at 8:30 PM PST (ISO-8601 format)
    const targetDate = new Date("2025-02-14T20:30:00-08:00").getTime();
    function updateCountdown() {
      const now = new Date().getTime();
      const distance = targetDate - now;
      if (distance < 0) {
        countdownEl.textContent = "It's time!";
        return;
      }
      const days = Math.floor(distance / (1000 * 60 * 60 * 24));
      const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
      const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
      const seconds = Math.floor((distance % (1000 * 60)) / 1000);
      countdownEl.textContent = `${days}d ${hours}h ${minutes}m ${seconds}s`;
    }
    setInterval(updateCountdown, 1000);
    updateCountdown();
    
    /***********************
     * Slider Functionality using Pan
     ***********************/
    let currentSlide = 0;
    const slider = document.getElementById("slider");
    const slides = document.querySelectorAll(".slide");
    const totalSlides = slides.length;
    
    // Update the slider transform and navigation dots
    function updateSlider() {
      slider.style.transform = `translateX(-${currentSlide * 100}vw)`;
      document.querySelectorAll(".nav-dots .dot").forEach((dot, i) => {
        dot.classList.toggle("active", i === currentSlide);
      });
    }
    
    // Initialize Hammer.js on the slider element
    const hammer = new Hammer(slider);
    // Set Hammer to detect horizontal pans
    hammer.get("pan").set({ direction: Hammer.DIRECTION_HORIZONTAL });
    
    let panStartX = 0;
    hammer.on("panstart", function(ev) {
      // Disable transition for smooth dragging
      slider.style.transition = "none";
      panStartX = currentSlide * -window.innerWidth;
    });
    
    hammer.on("pan", function(ev) {
      // Update slider position during pan
      slider.style.transform = `translateX(${panStartX + ev.deltaX}px)`;
    });
    
    hammer.on("panend", function(ev) {
      // Re-enable transition
      slider.style.transition = "transform 0.3s ease";
      // Determine if sufficient horizontal distance was dragged (50px threshold)
      if (ev.deltaX < -50 && currentSlide < totalSlides - 1) {
        currentSlide++;
      } else if (ev.deltaX > 50 && currentSlide > 0) {
        currentSlide--;
      }
      updateSlider();
    });
    
    // Navigation dots click event
    document.querySelectorAll(".nav-dots .dot").forEach(dot => {
      dot.addEventListener("click", () => {
        currentSlide = parseInt(dot.getAttribute("data-index"), 10);
        updateSlider();
      });
    });
    
    /***********************
     * Memories Slideshow (Slide 3)
     ***********************/
    let currentMemory = 0;
    const slideshow = document.getElementById("slideshow");
    const memories = slideshow.querySelectorAll("img");
    
    function showMemory(index) {
      memories.forEach((img, i) => {
        img.classList.toggle("active", i === index);
      });
    }
    document.getElementById("prev").addEventListener("click", () => {
      currentMemory = (currentMemory - 1 + memories.length) % memories.length;
      showMemory(currentMemory);
    });
    document.getElementById("next").addEventListener("click", () => {
      currentMemory = (currentMemory + 1) % memories.length;
      showMemory(currentMemory);
    });
    setInterval(() => {
      currentMemory = (currentMemory + 1) % memories.length;
      showMemory(currentMemory);
    }, 5000);
    
    /***********************
     * Valentine Button Interaction
     ***********************/
    document.getElementById("valentineBtn").addEventListener("click", () => {
      alert("I love you! Can't wait to share this amazing week with you!");
    });
    
    // Optional: Update slider on window resize
    window.addEventListener("resize", updateSlider);
  </script>
</body>
</html>
